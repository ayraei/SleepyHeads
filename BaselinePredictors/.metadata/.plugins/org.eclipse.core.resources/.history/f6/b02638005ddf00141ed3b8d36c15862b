import java.io.BufferedReader;
import java.io.FileNotFoundException;
import java.io.FileReader;
import java.io.IOException;
import java.io.PrintWriter;
import java.text.DecimalFormat;

/** 
 * This class provides the implementation for getting the average rating 
 * of each user for a particular to an output file called avgDayUsers.dta. 
 **/
public class AvgDayUserTask implements Runnable {
	/** Name of output file **/
	private static String OUTPUT_FILE = "avgDayUsers.dta";

	/** Level of reported precision (3 decimal places) **/
	DecimalFormat f = new DecimalFormat("0.000"); 

	/** Reference to our caller application **/
	private BasicBaselinePredictorApp app;

	/** Constructor, takes in an instance of BaselinePredictorApp. **/
	public AvgDayUserTask(BasicBaselinePredictorApp a) {
		this.app = a;
	}

	@Override
	public void run() {
		double avgRating = 0;
		Integer date, userID;
		
		// Variables related to reading and writing files
		String line;
		String[] inArray = null;
		BufferedReader br = null;

		try {
			br = new BufferedReader(new FileReader(BasicBaselinePredictorApp.TEST_FILE_LOC));
		} catch (FileNotFoundException e) {
			e.printStackTrace();
		}

		try {
			PrintWriter out = new PrintWriter(OUTPUT_FILE);
			while ((line = br.readLine()) != null) {
				
				// Get the relevant movie data
				inArray = line.split("\\s+");
				userID = Integer.parseInt(inArray[0]);
				date = Integer.parseInt(inArray[2]);
				
				for (UserProfile u:) {
					
				}
				
			}

			// Close file
			out.close();

		} catch (FileNotFoundException e) {
			e.printStackTrace();
		} catch (IOException e) {
			e.printStackTrace();
		}
	}
}
