import java.util.HashMap;

/** Stores movies rating from a certain time period **/
public class Bin {
	// Fields
	/** HashMap of movies **/
	private HashMap<Integer, double> movies;
	
	/** Minimum date in bin range **/
	private int binMin;
	
	/** Maximum date in bin range **/
	private int binMax;
	
	// Constructor
	public Bin(int a, int b) {
		this.binMin = a;
		this.binMax = b;
		this.movies = new HashMap<Integer, double>();
	}
	
	// Methods
	/** Add a movie rating to the bin **/
	public void addMovieToBin(Integer movieID, Integer rating) {
		// Check if this movie already exists in this bin
		if (this.movies.containsKey(movieID)) {
			double newRating = 0.5 * (this.movies.get(movieID) + rating);
			this.movies.put(movieID, newRating);
		}
		
		// Otherwise add to the bin
		else {
			this.movies.put(movieID, rating);
		}
	}
	
	/** Get all the movie ratings in the bin **/
	public HashMap<Integer, double> getBinContents() {
		return this.movies;
	}
	
	/** Get bin's range **/
	public int[] getBinRange() {
		int[] range = new int[2];
		range[0] = binMin;
		range[1] = binMax;
		return range;
	}
}
