import java.util.Comparator;
import java.util.TreeSet;

/** User-based object class **/
public class UserProfile {
	// Fields
	/** History of movie ratings. **/
	private TreeSet<UserRating> ratingHistory;

	//Methods
	/** Get user's history of movie ratings. **/
	public TreeSet<UserRating> getHistory() {
		return this.ratingHistory;
	}

	/** Add new movies to user's rating history. **/
	public void addToHistory(UserRating r) {
		this.ratingHistory.add(r);
	}

	/** Get the average of all ratings from the user. **/
	public double getAvgRating() {
		double sum = 0;
		for (UserRating r:this.getHistory()) {
			sum = sum + r.getRating();
		}
		return sum/(this.getHistory().size());
	}

	// Constructor
	public UserProfile() {
		this.ratingHistory = new TreeSet<UserRating>(new CompareUsers());
	}

	// Comparator
	class CompareUsers implements Comparator<UserRating> {
		@Override
		public int compare(UserRating u1, UserRating u2) {
			return u1.getDate() - u2.getDate();
		}
	}
}
