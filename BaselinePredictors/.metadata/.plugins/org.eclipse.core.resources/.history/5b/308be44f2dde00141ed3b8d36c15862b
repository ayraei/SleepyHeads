import java.io.PrintWriter;

/** 
 * This class provides the implementation for getting the average rating 
 * of each user to an output file called avgAllUsers.dta. 
 **/
public class AvgUserTask implements Runnable {
	/** Reference to our caller application **/
	private BaselinePredictorApp app;
	
	/** Reference to our caller application **/
	private static String OUTPUT_FILE = "avgAllUsers.dta";
	
	/** Constructor, takes in an instance of BaselinePredictorApp. **/
	public AvgUserTask(BaselinePredictorApp a) {
		this.app = a;
	}

	@Override
	public void run() {
		Integer avgUser;
		PrintWriter out = new PrintWriter(OUTPUT_FILE);
		
		for (MovieProfile movie:app.allMovies.values()) {
			avgAllRatings = avgAllRatings + movie.getAvgRating();
		}
		avgAllRatings = avgAllRatings/app.allMovies.size();
		
	}
}
